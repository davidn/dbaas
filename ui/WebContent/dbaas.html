<markup id="login">
	<div id="login-div" class="modal-dialog login">
		<div class="modal-content login">
			<form id="login-form" class="form-login">
				<div class="modal-header">Account Login</div>
				<div class="modal-body">
					<p>
						<input class="input-login" type="text" id="username" placeholder="Email Address">
					</p>

					<p>
						<input class="input-login" type="password" id="password" placeholder="Password">
					</p>

					<div>
						<button type="submit" class="btn btn-success" id="login-submit" data-loading-text="Logging in...">LOGIN</button>
						<button type="submit" class="btn btn-link" id="login-forgot" data-loading-text="Sending reminder...">Forgot Password?</button>
					</div>
					<div id="login-fail" class="alert alert-bock alert-error fade in" style="display: none">
						<button type="button" class="close" data-dismiss="alert">&times;</button>
						Login Failed.
					</div>
					<div id="register-fail" class="alert alert-bock alert-error fade in" style="display: none">
						<button type="button" class="close" data-dismiss="alert">&times;</button>
						Registration Failed.
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary" id="login-register" data-loading-text="Creating Account...">CREATE ACCOUNT</button>
				</div>
			</form>
		</div>
	</div>
</markup>

<markup id="home">
	<div id="home-div" class="box summary">
		<div class="div-logout">
			Welcome {{this.username}} &nbsp;&nbsp;&nbsp;
			<button id="logout" class="btn btn-primary btn-small">LOGOUT</button>
		</div>
		<div class="modal-header">Cluster Summary
			<button class="btn btn-primary marginleft60" data-toggle="modal" href="#addCluster"><i class="icon-plus"></i> ADD CLUSTER
			</button>
								  &nbsp;
			<button class="btn btn-primary" id="refresh"><i class="icon-refresh"></i></button>
			<button type="submit" class="btn btn-primary pull-right disabled"><i class="icon-bar-chart"></i> CLUSTER STATS</button>
		</div>
		<div class="panel cluster-group">
			{{#each clusters}}
			<div class="panel">
				<div class="panel-heading cluster-heading">
					<span class="panel-title cluster-title">{{this.dbname}}</span>

					<div class=" pull-right">
						<button class="btn add-node btn-success btn-small" data-cluster="{{this.url}}">ADD NODE</button>
						<button class="btn launch-cluster btn-success btn-small" data-cluster="{{this.url}}">LAUNCH</button>
						<button class="btn delete-cluster btn-danger btn-small" data-cluster="{{this.url}}" data-loading-text="Deleting...">DELETE</button>
					</div>
				</div>

				<table class="table table-hover table-condensed table-nodes">
					<thead class="node-header">
					<tr>
						<th></th>
						<th>Name</th>
						<th>Provider</th>
						<th>Instance Type</th>
						<th>Status</th>
						<th>CPU</th>
						<th>IOPS</th>
						<th></th>
					</tr>
					</thead>
					<tbody>
					{{#each this.nodes}}
					<tr data-node="{{this.url}}">
						<td id="row{{@index}}" class="node-status-marker"><i class="icon-circle {{this.statusClass}}"></i></td>
						<td id="row{{@index}}">{{this.label}}</td>
						<td id="row{{@index}}">{{this.provider.name}}</td>
						<td id="row{{@index}}">{{this.flavor}}</td>
						<td id="row{{@index}}" class="node-status {{this.statusClass}}">{{this.status}}</td>
						<td id="row{{@index}}"><span class="inlinesparkline">{{this.cpu}}</span></td>
						<td id="row{{@index}}"><span class="inlinesparkline">{{this.iops}}</span></td>
						<td id="row{{@index}}">
							<div class="btn-group">
								<a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"> <i class="icon-reorder"></i> </a>
								<ul class="dropdown-menu node-popup pull-right">
									<li><a tabindex="-1" id="node-stats" href="#"><i class="icon-bar-chart"></i> &nbsp; Detailed Stats</a>
									</li>
									<li class="divider"></li>
									<li><a tabindex="-1" id="node-pause" href="#"><i class="icon-pause "></i> &nbsp; Pause Node</a></li>
									<li><a tabindex="-1" id="node-resume" href="#"><i class="icon-play"></i> &nbsp; Resume Node</a></li>
									<li class="divider"></li>
									<li><a tabindex="-1" id="node-clone" href="#"><i class="icon-plus"></i> &nbsp; Clone Node</a></li>
									<li><a tabindex="-1" id="node-upgrade" href="#"><i class="icon-chevron-up"></i> &nbsp; Upgrade Node</a>
									</li>
									<li class="divider"></li>
									<li><a tabindex="-1" class="node-delete" href="#"><i class="icon-remove"></i> &nbsp; Delete Node</a>
									</li>
								</ul>
							</div>
						</td>
					</tr>
					{{else}}
					<tr>
						<td colspan="8">Your cluster currently has no nodes.
							<button class="btn add-node btn-success btn-small" data-cluster="{{this.url}}">Add Node</button>
						</td>
					</tr>
					{{/each}}
					</tbody>
				</table>

			</div>
			{{else}}
			<p class="lead">You don't have any clusters yet. You can either
				<button class="btn btn-primary" data-toggle="modal" href="#addCluster"><i class="icon-plus"></i> ADD CLUSTER</button>
							or use our
				<button class="btn btn-success" id="quickstart" rel="tooltip" title="Creates 2 node cluster for easy testing of GenieDB on Amazon EC2" data-toggle="modal" href="#processing">QUICK START</button>
							, which builds a cluster with two small Amazon EC2 nodes distributed on the east and west coast of the US.
			</p>
			{{/each}}
		</div>
	</div>

	<div class="modal fade" id="addCluster">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">×</button>
					<h3>Define New Cluster</h3>
				</div>
				<div class="modal-body" style="max-height:80%">

					<div class="form-horizontal">

						<div class="control-group">
							<label class="control-label" for="identifier"> Label
								<a tabindex="-1" rel="tooltip" title="e.g. Production Cluster, myApp Cluster"><i class="icon-info-sign"></i></a>
							</label>

							<div class="controls">
								<input id="identifier" name="identifier" size="30" placeholder="Label" type="text"/>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="master_username"> Master Username
								<a tabindex="-1" rel="tooltip" title="e.g. awsuser, appuser, etc" class="question"><i class="icon-info-sign"></i></a>
							</label>

							<div class="controls">
								<input id="master_username" name="master_username" size="30" type="text"/>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label" for="master_password"> Master Password
								<a tabindex="-1" rel="tooltip" title="Please choose a secure password" class="question"><i class="icon-info-sign"></i></a></label>

							<div class="controls">
								<input id="master_password" name="master_password" size="30" type="password"/>
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="master_password"> Master Password Confirm </label>

							<div class="controls">
								<input id="master_password_confirm" name="master_password_confirm" size="30" type="password"/>
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="db_name"> Database Name
								<a tabindex="-1" rel="tooltip" title="Note: If no database name is specified then no initial MySQL database will be created on the cluster"><i class="icon-info-sign"></i></a>
							</label>

							<div class="controls">
								<input id="db_name" name="db_name" size="30" type="text"/>
							</div>
						</div>

						<div class="control-group">
							<label class="control-label" for="db_port">Database Port
								<a tabindex="-1" rel="tooltip" title="Using a non-standard port (3306) is recommended"><i class="icon-info-sign"></i></a>
							</label>

							<div class="controls">
								<input id="db_port" name="db_port" size="30" type="text" value="3306"/>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<input class="btn btn-primary" id="add-cluster" type="submit" value="Create Cluster"/>
				</div>
			</div>
		</div>
	</div>
	<div id="alertModal" class="modal fade" tabindex="-1" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h3 id="myModalLabel">Alert</h3>
				</div>
				<div class="modal-body">
					<p id="alertBody">One fine body…</p>
				</div>
				<div class="modal-footer">
					<button class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Close</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="processing">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h3>Creating Cluster</h3>
				</div>
				<div class="modal-body" style="max-height:80%">Cluster is being created, EC2 can take 2-3 minutes to bring the nodes online.
				</div>
				<div class="modal-footer">
					<input class="btn btn-primary" data-dismiss="modal" value="OK"/>
				</div>
			</div>
		</div>
	</div>

</markup>
