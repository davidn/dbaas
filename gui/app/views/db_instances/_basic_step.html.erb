<div class="detailSection row-fluid">
  <span>To get started, please fill out the below fields and click <strong>Continue</strong></span>

  <span><strong>Region Deployment</strong></span>
  <div class="form-horizontal firstForm">
    <% @db_instance.region_instances.each do |region_instance| %>
      <div class="control-group">
        <%= f.fields_for :region_instances, region_instance do |r| %>
          <%= r.label :cost, region_instance.deployment_region.name, :class => "control-label" %>
          <div class="controls">
            <%= r.text_field :count, :value => region_instance.count, :size => 2, :class => "input-small" %>
          </div>
          <%= r.hidden_field :deployment_region_id, :value => region_instance.deployment_region.id %>
        <%end%>
      </div>
    <% end %>
  </div>

  <span><strong>Provide the per-node resource allocations</strong></span>
  <div class="form-horizontal firstForm row-fluid">
    <div class="span8">
      <div class="control-group flatSlider">
        <label class="control-label">No. of CPUs</label>
        <div class="controls" id="cpu" >
          <%= select_tag :cpu_count, options_for_select(CpuOptions.map {|x| [x,x]}) %>
          <div class="cpuNum">
            <% CpuOptions.each_with_index do |option, i|%>
              <small class='<%= (i+1) == CpuOptions.count ? "lstchild" : ""%>'><%= option %></small>
            <% end %>
          </div>
        </div>
      </div>

      <div class="control-group">
        <label class="control-label">Amount of RAM (GB)</label>
        <div class="controls flatSlider" id="ram" >
          <%= select_tag :ram_amount, options_for_select(RamOptions.map {|x| [x,x]}) %>
          <div class="ramNum">
            <% RamOptions.each_with_index do |option, i|%>
              <small class="<%= (i+1) == RamOptions.count ? 'lstchild' : ''%>"><%= option %></small>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <div class="span4">
      <%= f.collection_select :node_size_id, NodeSize.all, :id, :name, {}, :size=>3, :style=>"height: 7em;width:10em" %>
    </div>
  </div>

  <span><strong>Provide the details for your GenieDB Database Instance</strong></span>
  <div class="form-horizontal secForm">

    <div class="control-group">
      <label class="control-label">Allocated Storage <a href="javascript:void(0)" rel="tooltip" title="" data-original-title="(Minimum: 5GB, Maximum: 3072 GB) Higher allocated storage may improve IOPS performance" class="question">?</a></label>
      <div class="controls">
        <div class="input-prepend input-append">
          <span class="add-on">GB</span>
          <%= f.text_field :allocated_storage, :value => DefaultAllocatedStorage, :id => "appendedPrependedInput", :class => "span2" %>
        </div>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">Use Provisioned IOPS</label>
      <div class="controls">
        <%= f.check_box :provision_iops %>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">IOPS</label>
      <div class="controls">
          <%= f.text_field :iops, :class => "input-mini" %>
        </label>
      </div>
    </div>


    <div class="control-group">
      <label class="control-label">DB Instance Identifier <a href="javascript:void(0)"  rel="tooltip" title="e.g. mydbinstance" class="question">?</a></label>
      <div class="controls">
        <%= f.text_field :identifier %>
      </div>
    </div>


    <div class="control-group">
      <label class="control-label">Master Username <a href="javascript:void(0)" rel="tooltip" title="e.g. awsuser" class="question">?</a></label>
      <div class="controls">
        <%= f.text_field :master_username %>
      </div>
    </div>


    <div class="control-group">
      <label class="control-label">Master Password <a href="javascript:void(0)" rel="tooltip" title="e.g. mypassword" class="question">?</a></label>
      <div class="controls">
        <%= f.password_field :master_password %>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">Database Name <a href="javascript:void(0)" rel="tooltip" title="Note: if no database name is specified then no initial MYSQL database will be created on the DB.
          Instance." class="question">?</a></label>
      <div class="controls">
        <%= f.text_field :db_name %>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">Database Port </label>
      <div class="controls">
        <%= f.text_field :db_port, :value => DefaultPort%>
      </div>
    </div>

  </div>
</div>
